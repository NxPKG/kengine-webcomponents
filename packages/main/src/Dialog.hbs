{{>include "./Popup.hbs"}}

{{#*inline "beforeContent"}}
	{{#if _displayHeader }}
		<header>
			<div
				class="kengine-popup-header-root"
				id="kengine-popup-header"
				role="group"
				aria-describedby={{effectiveAriaDescribedBy}}
				aria-roledescription={{ariaRoleDescriptionHeaderText}}
				tabindex="{{_headerTabIndex}}"
				@keydown="{{_onDragOrResizeKeyDown}}"
				@mousedown="{{_onDragMouseDown}}"
				part="header"
				state="{{this.state}}">
				{{#if hasValueState}}
				<kengine-icon class="kengine-dialog-value-state-icon" name="{{_dialogStateIcon}}"></kengine-icon>
				{{/if}}
				{{#if header.length }}
					<slot name="header"></slot>
				{{else}}
					<h1 id="kengine-popup-header-text" class="kengine-popup-header-text">{{headerText}}</h1>
				{{/if}}

				{{#if resizable}}
					{{#if draggable}}
					<span id="{{_id}}-descr" aria-hidden="true" class="kengine-hidden-text">{{ariaDescribedByHeaderTextDraggableAndResizable}}</span>
					{{else}}
					<span id="{{_id}}-descr" aria-hidden="true" class="kengine-hidden-text">{{ariaDescribedByHeaderTextResizable}}</span>
					{{/if}}
				{{else}}
					{{#if draggable}}
						<span id="{{_id}}-descr" aria-hidden="true" class="kengine-hidden-text">{{ariaDescribedByHeaderTextDraggable}}</span>
					{{/if}}
				{{/if}}
			</div>
		</header>
	{{/if}}
{{/inline}}

{{#*inline "afterContent"}}
	{{#if footer.length }}
		<footer class="kengine-popup-footer-root" part="footer">
			<slot name="footer"></slot>
		</footer>
	{{/if}}
	{{#if _showResizeHandle }}
		<kengine-icon
			name="resize-corner"
			class="kengine-popup-resize-handle"
			@mousedown="{{_onResizeMouseDown}}">
		</kengine-icon>
	{{/if}}
{{/inline}}

